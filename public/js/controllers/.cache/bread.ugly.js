(function(e,t){"use strict";function n(e){e.currRank=0,e.maxBread=100,e.rstAddBread=0,e.isSuccess=!0,e.selectRank=function(t){e.currRank=t;switch(t){case 0:e.maxBread=100;break;case 1:e.maxBread=700;break;case 2:e.maxBread=2100;break;case 3:e.maxBread=5e3;break;case 4:e.maxBread=10600}},e.$watch("currBread",function(){e.calcBread(e.currBread,e.addedBread,e.maxBread)}),e.$watch("addedBread",function(){e.calcBread(e.currBread,e.addedBread,e.maxBread)}),e.$watch("maxBread",function(){e.calcBread(e.currBread,e.addedBread,e.maxBread)}),e.$watch("isSuccess",function(){e.calcBread(e.currBread,e.addedBread,e.maxBread)}),e.calcBread=function(t,n,r){t=t||0;var i=t/r*100;i=Math.max(0,Math.min(100,i));var s=Math.max(0,n-t);e.isSuccess&&(s=Math.floor(s*1.5));var o=s/r*100;o=Math.max(0,Math.min(100-i,o)),e.rstAddBread=s||0,e.currPer=i,e.addPer=o},e.resetBread=function(){e.currBread=undefined,e.addedBread=undefined}}n.$inject=["$scope"],e.module("cm.controllers").controller("BreadCalcCtrl",n)})(angular,_)